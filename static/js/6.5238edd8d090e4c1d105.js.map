{"version":3,"sources":["webpack:///src/views/secret/secret.vue","webpack:///./src/views/secret/secret.vue?1e93","webpack:///./src/views/secret/secret.vue"],"names":["secret","name","data","_this","this","showFormFirst","showFormChange","formFirst","passwd","passwdCheck","formChange","changeNewPwd","changePasswdCheck","changeOldPasswd","ruleFirst","validator","rule","value","callback","Error","$t","trigger","ruleChange","wallet","eqSecret","methods","init","hasSecret","handleSubmit","_this2","$refs","validate","valid","word","readMnemonic","readPassword","saveSecret","saveMnemonic","$Modal","success","title","content","okText","handleChangeSubmit","_this3","mounted","secret_secret","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","ref","attrs","model","rules","label-width","label","prop","type","$$v","$set","_v","on","click","$event","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.5238edd8d090e4c1d105.js","sourcesContent":["<style lang=\"less\">\n    @import './secret.less';\n</style>\n<template>\n    <div class=\"secret-main\">\n        <Form v-show=\"showFormFirst\" ref=\"formFirst\" :model=\"formFirst\" :rules=\"ruleFirst\" :label-width=\"80\">\n            <FormItem :label=\"$t('page_secret.first_form.label.pwd')\" prop=\"passwd\">\n                <Input type=\"password\" v-model=\"formFirst.passwd\"></Input>\n            </FormItem>\n            <FormItem :label=\"$t('page_secret.first_form.label.check_pwd')\" prop=\"passwdCheck\">\n                <Input type=\"password\" v-model=\"formFirst.passwdCheck\"></Input>\n            </FormItem>\n            <FormItem>\n                <Button type=\"primary\" @click=\"handleSubmit('formFirst')\">{{$t('page_secret.btn.save')}}</Button>\n            </FormItem>\n        </Form>\n        <Form v-show=\"showFormChange\" ref=\"formChange\" :model=\"formChange\" :rules=\"ruleChange\" :label-width=\"80\">\n            <FormItem :label=\"$t('page_secret.change_form.label.old_pwd')\" prop=\"changeOldPasswd\">\n                <Input type=\"password\" v-model=\"formChange.changeOldPasswd\"></Input>\n            </FormItem>\n            <FormItem :label=\"$t('page_secret.change_form.label.change_pwd')\" prop=\"changeNewPwd\">\n                <Input type=\"password\" v-model=\"formChange.changeNewPwd\"></Input>\n            </FormItem>\n            <FormItem :label=\"$t('page_secret.change_form.label.check_pwd')\" prop=\"changePasswdCheck\">\n                <Input type=\"password\" v-model=\"formChange.changePasswdCheck\"></Input>\n            </FormItem>\n            <FormItem>\n                <Button type=\"primary\" @click=\"handleChangeSubmit('formChange')\">{{$t('page_secret.btn.save')}}</Button>\n            </FormItem>\n        </Form>\n    </div>\n</template>\n<script>\n    import wallet from '../../libs/wallet/wallet';\n    export default {\n        name:'secret',\n        data(){\n            const validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error(this.$t('page_secret.validate.enter_pwd')));\n                } else {\n                    callback();\n                }\n            };\n            const validatePassCheck = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error(this.$t('page_secret.validate.again_pwd')));\n                } else if (value !== this.formFirst.passwd) {\n                    callback(new Error(this.$t('page_secret.validate.not_match')));\n                } else {\n                    callback();\n                }\n            };\n            const validateChangeOldPass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error(this.$t('page_secret.validate.enter_pwd')));\n                }else if(!wallet.eqSecret(value))\n                {\n                    callback(new Error(this.$t('page_secret.validate.pwd_error')));\n                } else {\n                    callback();\n                }\n            };\n            const validateChangePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error(this.$t('page_secret.validate.enter_pwd')));\n                } else {\n                    callback();\n                }\n            };\n            const validateChangePassCheck = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error(this.$t('page_secret.validate.again_pwd')));\n                } else if (value !== this.formChange.changeNewPwd) {\n                    callback(new Error(this.$t('page_secret.validate.not_match')));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                showFormFirst:false,\n                showFormChange:false,\n                formFirst: {\n                    passwd: '',\n                    passwdCheck: ''\n                },\n                formChange: {\n                    changeNewPwd: '',\n                    changePasswdCheck: '',\n                    changeOldPasswd: ''\n                },\n                ruleFirst: {\n                    passwd: [\n                        { validator: validatePass, trigger: 'blur' }\n                    ],\n                    passwdCheck: [\n                        { validator: validatePassCheck, trigger: 'blur' }\n                    ]\n                },\n                ruleChange: {\n                    changeOldPasswd: [\n                        { validator: validateChangeOldPass, trigger: 'blur' }\n                    ],\n                    changeNewPwd: [\n                        { validator: validateChangePass, trigger: 'blur' }\n                    ],\n                    changePasswdCheck: [\n                        { validator: validateChangePassCheck, trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        methods: {\n            init(){\n                if(wallet.hasSecret())\n                {\n                    this.showFormFirst=false;\n                    this.showFormChange=true;\n                }\n                else\n                {\n                    this.showFormChange=false;\n                    this.showFormFirst=true;\n                }\n            },\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        let word=wallet.readMnemonic(wallet.readPassword());\n                        wallet.saveSecret(this.formFirst.passwd);\n                        wallet.saveMnemonic(word,wallet.readPassword());\n                        this.showFormFirst=false;\n                        this.showFormChange=true;\n                        this.formFirst.passwd='';\n                        this.formFirst.passwdCheck='';\n                        this.$Modal.success({\n                            title: this.$t('page_secret.modal.title'),\n                            content: this.$t('page_secret.modal.content'),\n                            okText:this.$t('page_secret.modal.btn_close')\n                        });\n                    } else {\n                        \n                    }\n                })\n            },\n            handleChangeSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        let word=wallet.readMnemonic(wallet.readPassword());\n                        wallet.saveSecret(this.formChange.changeNewPwd);\n                        wallet.saveMnemonic(word,wallet.readPassword());\n                        this.showFormFirst=false;\n                        this.showFormChange=true;\n                        this.formChange.changeNewPwd='';\n                        this.formChange.changePasswdCheck='';\n                        this.formChange.changeOldPasswd='';\n                        this.$Modal.success({\n                            title: this.$t('page_secret.modal.title'),\n                            content: this.$t('page_secret.modal.content'),\n                            okText:this.$t('page_secret.modal.btn_close')\n                        });\n                    } else {\n                        \n                    }\n                })\n            },\n        },\n        mounted() {\n            this.init();\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/secret/secret.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"secret-main\"},[_c('Form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFormFirst),expression:\"showFormFirst\"}],ref:\"formFirst\",attrs:{\"model\":_vm.formFirst,\"rules\":_vm.ruleFirst,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":_vm.$t('page_secret.first_form.label.pwd'),\"prop\":\"passwd\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formFirst.passwd),callback:function ($$v) {_vm.$set(_vm.formFirst, \"passwd\", $$v)},expression:\"formFirst.passwd\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":_vm.$t('page_secret.first_form.label.check_pwd'),\"prop\":\"passwdCheck\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formFirst.passwdCheck),callback:function ($$v) {_vm.$set(_vm.formFirst, \"passwdCheck\", $$v)},expression:\"formFirst.passwdCheck\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formFirst')}}},[_vm._v(_vm._s(_vm.$t('page_secret.btn.save')))])],1)],1),_vm._v(\" \"),_c('Form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFormChange),expression:\"showFormChange\"}],ref:\"formChange\",attrs:{\"model\":_vm.formChange,\"rules\":_vm.ruleChange,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":_vm.$t('page_secret.change_form.label.old_pwd'),\"prop\":\"changeOldPasswd\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formChange.changeOldPasswd),callback:function ($$v) {_vm.$set(_vm.formChange, \"changeOldPasswd\", $$v)},expression:\"formChange.changeOldPasswd\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":_vm.$t('page_secret.change_form.label.change_pwd'),\"prop\":\"changeNewPwd\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formChange.changeNewPwd),callback:function ($$v) {_vm.$set(_vm.formChange, \"changeNewPwd\", $$v)},expression:\"formChange.changeNewPwd\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":_vm.$t('page_secret.change_form.label.check_pwd'),\"prop\":\"changePasswdCheck\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formChange.changePasswdCheck),callback:function ($$v) {_vm.$set(_vm.formChange, \"changePasswdCheck\", $$v)},expression:\"formChange.changePasswdCheck\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleChangeSubmit('formChange')}}},[_vm._v(_vm._s(_vm.$t('page_secret.btn.save')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36e0ff8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/secret/secret.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36e0ff8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./secret.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./secret.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./secret.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36e0ff8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./secret.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/secret/secret.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}