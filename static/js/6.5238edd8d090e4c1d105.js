webpackJsonp([6],{"8bev":function(e,a){},"crl/":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("zqFS"),s={name:"secret",data:function(){var e=this;return{showFormFirst:!1,showFormChange:!1,formFirst:{passwd:"",passwdCheck:""},formChange:{changeNewPwd:"",changePasswdCheck:"",changeOldPasswd:""},ruleFirst:{passwd:[{validator:function(a,r,t){""===r?t(new Error(e.$t("page_secret.validate.enter_pwd"))):t()},trigger:"blur"}],passwdCheck:[{validator:function(a,r,t){""===r?t(new Error(e.$t("page_secret.validate.again_pwd"))):r!==e.formFirst.passwd?t(new Error(e.$t("page_secret.validate.not_match"))):t()},trigger:"blur"}]},ruleChange:{changeOldPasswd:[{validator:function(a,r,s){""===r?s(new Error(e.$t("page_secret.validate.enter_pwd"))):t.a.eqSecret(r)?s():s(new Error(e.$t("page_secret.validate.pwd_error")))},trigger:"blur"}],changeNewPwd:[{validator:function(a,r,t){""===r?t(new Error(e.$t("page_secret.validate.enter_pwd"))):t()},trigger:"blur"}],changePasswdCheck:[{validator:function(a,r,t){""===r?t(new Error(e.$t("page_secret.validate.again_pwd"))):r!==e.formChange.changeNewPwd?t(new Error(e.$t("page_secret.validate.not_match"))):t()},trigger:"blur"}]}}},methods:{init:function(){t.a.hasSecret()?(this.showFormFirst=!1,this.showFormChange=!0):(this.showFormChange=!1,this.showFormFirst=!0)},handleSubmit:function(e){var a=this;this.$refs[e].validate(function(e){if(e){var r=t.a.readMnemonic(t.a.readPassword());t.a.saveSecret(a.formFirst.passwd),t.a.saveMnemonic(r,t.a.readPassword()),a.showFormFirst=!1,a.showFormChange=!0,a.formFirst.passwd="",a.formFirst.passwdCheck="",a.$Modal.success({title:a.$t("page_secret.modal.title"),content:a.$t("page_secret.modal.content"),okText:a.$t("page_secret.modal.btn_close")})}})},handleChangeSubmit:function(e){var a=this;this.$refs[e].validate(function(e){if(e){var r=t.a.readMnemonic(t.a.readPassword());t.a.saveSecret(a.formChange.changeNewPwd),t.a.saveMnemonic(r,t.a.readPassword()),a.showFormFirst=!1,a.showFormChange=!0,a.formChange.changeNewPwd="",a.formChange.changePasswdCheck="",a.formChange.changeOldPasswd="",a.$Modal.success({title:a.$t("page_secret.modal.title"),content:a.$t("page_secret.modal.content"),okText:a.$t("page_secret.modal.btn_close")})}})}},mounted:function(){this.init()}},n={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"secret-main"},[r("Form",{directives:[{name:"show",rawName:"v-show",value:e.showFormFirst,expression:"showFormFirst"}],ref:"formFirst",attrs:{model:e.formFirst,rules:e.ruleFirst,"label-width":80}},[r("FormItem",{attrs:{label:e.$t("page_secret.first_form.label.pwd"),prop:"passwd"}},[r("Input",{attrs:{type:"password"},model:{value:e.formFirst.passwd,callback:function(a){e.$set(e.formFirst,"passwd",a)},expression:"formFirst.passwd"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("page_secret.first_form.label.check_pwd"),prop:"passwdCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.formFirst.passwdCheck,callback:function(a){e.$set(e.formFirst,"passwdCheck",a)},expression:"formFirst.passwdCheck"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(a){return e.handleSubmit("formFirst")}}},[e._v(e._s(e.$t("page_secret.btn.save")))])],1)],1),e._v(" "),r("Form",{directives:[{name:"show",rawName:"v-show",value:e.showFormChange,expression:"showFormChange"}],ref:"formChange",attrs:{model:e.formChange,rules:e.ruleChange,"label-width":80}},[r("FormItem",{attrs:{label:e.$t("page_secret.change_form.label.old_pwd"),prop:"changeOldPasswd"}},[r("Input",{attrs:{type:"password"},model:{value:e.formChange.changeOldPasswd,callback:function(a){e.$set(e.formChange,"changeOldPasswd",a)},expression:"formChange.changeOldPasswd"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("page_secret.change_form.label.change_pwd"),prop:"changeNewPwd"}},[r("Input",{attrs:{type:"password"},model:{value:e.formChange.changeNewPwd,callback:function(a){e.$set(e.formChange,"changeNewPwd",a)},expression:"formChange.changeNewPwd"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("page_secret.change_form.label.check_pwd"),prop:"changePasswdCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.formChange.changePasswdCheck,callback:function(a){e.$set(e.formChange,"changePasswdCheck",a)},expression:"formChange.changePasswdCheck"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(a){return e.handleChangeSubmit("formChange")}}},[e._v(e._s(e.$t("page_secret.btn.save")))])],1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(s,n,!1,function(e){r("8bev")},null,null);a.default=o.exports}});
//# sourceMappingURL=6.5238edd8d090e4c1d105.js.map